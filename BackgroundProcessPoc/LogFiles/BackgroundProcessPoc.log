2019-01-23 17:40:19.176 +11:00 [INF] Starting web host
2019-01-23 17:40:21.763 +11:00 [INF] User profile is available. Using 'C:\Users\LBB\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-01-23 17:40:22.041 +11:00 [INF] Start installing Hangfire SQL objects...
2019-01-23 17:40:22.147 +11:00 [INF] Hangfire SQL objects installed.
2019-01-23 17:40:22.162 +11:00 [INF] Starting Hangfire Server
2019-01-23 17:40:22.166 +11:00 [INF] Using job storage: 'SQL Server: .@BackgroundTasks'
2019-01-23 17:40:22.166 +11:00 [INF] Using the following options for SQL Server job storage:
2019-01-23 17:40:22.167 +11:00 [INF]     Queue poll interval: 00:00:15.
2019-01-23 17:40:22.168 +11:00 [INF] Using the following options for Hangfire Server:
2019-01-23 17:40:22.168 +11:00 [INF]     Worker count: 4
2019-01-23 17:40:22.168 +11:00 [INF]     Listening queues: 'Test1'
2019-01-23 17:40:22.169 +11:00 [INF]     Shutdown timeout: 00:00:15
2019-01-23 17:40:22.169 +11:00 [INF]     Schedule polling interval: 00:00:15
2019-01-23 17:40:22.214 +11:00 [DBG] Background process 'BackgroundProcessingServer' started.
2019-01-23 17:40:22.521 +11:00 [DBG] Background process 'ServerHeartbeat' started.
2019-01-23 17:40:22.530 +11:00 [DBG] Background process 'ServerWatchdog' started.
2019-01-23 17:40:22.549 +11:00 [DBG] Background process 'Hangfire.SqlServer.ExpirationManager' started.
2019-01-23 17:40:22.560 +11:00 [DBG] Background process 'Hangfire.SqlServer.CountersAggregator' started.
2019-01-23 17:40:22.564 +11:00 [DBG] Removing outdated records from the 'AggregatedCounter' table...
2019-01-23 17:40:22.565 +11:00 [DBG] Aggregating records in 'Counter' table...
2019-01-23 17:40:22.575 +11:00 [DBG] Background process 'Worker #231734d0' started.
2019-01-23 17:40:22.594 +11:00 [INF] 1 servers were removed due to timeout
2019-01-23 17:40:22.594 +11:00 [DBG] Background process 'Worker #53d3743f' started.
2019-01-23 17:40:22.598 +11:00 [DBG] Background process 'Worker #9d961048' started.
2019-01-23 17:40:22.618 +11:00 [DBG] Background process 'Worker #81eabdbf' started.
2019-01-23 17:40:22.648 +11:00 [DBG] Background process 'DelayedJobScheduler' started.
2019-01-23 17:40:22.674 +11:00 [DBG] Background process 'RecurringJobScheduler' started.
2019-01-23 17:40:22.701 +11:00 [DBG] Removing outdated records from the 'Job' table...
2019-01-23 17:40:22.754 +11:00 [DBG] Removing outdated records from the 'List' table...
2019-01-23 17:40:22.802 +11:00 [DBG] Removing outdated records from the 'Set' table...
2019-01-23 17:40:22.852 +11:00 [DBG] Removing outdated records from the 'Hash' table...
2019-01-23 17:40:22.990 +11:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:3727/  0
2019-01-23 17:40:22.990 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/swagger/index.html  
2019-01-23 17:40:23.020 +11:00 [INF] Request finished in 31.4813ms 200 
2019-01-23 17:40:23.088 +11:00 [INF] Request finished in 99.2822ms 200 text/html
2019-01-23 17:40:23.249 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/swagger/v1/swagger.json  
2019-01-23 17:40:23.568 +11:00 [INF] Request finished in 319.4759ms 200 application/json;charset=utf-8
2019-01-23 17:40:28.429 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs  
2019-01-23 17:40:28.491 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:40:28.633 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) - Validation state: "Valid"
2019-01-23 17:40:28.797 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 157.6866ms.
2019-01-23 17:40:28.802 +11:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Hangfire.Storage.RecurringJobDto, Hangfire.Core, Version=1.6.21.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-01-23 17:40:28.809 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 315.3199ms
2019-01-23 17:40:28.809 +11:00 [INF] Request finished in 380.6554ms 200 application/json; charset=utf-8
2019-01-23 17:40:53.893 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs/Job1  
2019-01-23 17:40:53.914 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:40:53.957 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) with arguments (["Job1"]) - Validation state: "Valid"
2019-01-23 17:41:11.598 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 17683.891200000002ms
2019-01-23 17:41:11.600 +11:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'ManifestModule' with type 'System.Reflection.RuntimeModule'. Path 'Job.Method.Module.Assembly'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonConvert.SerializeObjectInternal(Object value, Type type, JsonSerializer jsonSerializer)
   at Newtonsoft.Json.JsonConvert.SerializeObject(Object value)
   at BackgroundProcessPoc.Controllers.BackgroundJobsController.Get(String jobId) in C:\Scratch\Microservices\CommonLibraries\BackgroundProcessPoc\BackgroundProcessPoc\Controllers\BackgroundJobsController.cs:line 43
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-01-23 17:41:11.631 +11:00 [INF] Request finished in 17738.8233ms 500 text/html; charset=utf-8
2019-01-23 17:41:28.890 +11:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:44308/api/BackgroundJobs/Job1  
2019-01-23 17:41:28.892 +11:00 [INF] Route matched with {action = "Delete", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Delete (BackgroundProcessPoc)
2019-01-23 17:41:28.953 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Delete (BackgroundProcessPoc) with arguments (["Job1"]) - Validation state: "Valid"
2019-01-23 17:41:29.074 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Delete (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 120.91420000000001ms.
2019-01-23 17:41:29.074 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Delete (BackgroundProcessPoc) in 182.2552ms
2019-01-23 17:41:29.074 +11:00 [INF] Request finished in 184.4932ms 200 
2019-01-23 17:41:38.975 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs  
2019-01-23 17:41:38.976 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:41:38.996 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) - Validation state: "Valid"
2019-01-23 17:41:39.054 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.9339ms.
2019-01-23 17:41:39.054 +11:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Hangfire.Storage.RecurringJobDto, Hangfire.Core, Version=1.6.21.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-01-23 17:41:39.054 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 78.6269ms
2019-01-23 17:41:39.054 +11:00 [INF] Request finished in 79.1576ms 200 application/json; charset=utf-8
2019-01-23 17:41:49.051 +11:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:44308/api/BackgroundJobs/Job1_1  
2019-01-23 17:41:49.052 +11:00 [INF] Route matched with {action = "Delete", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Delete (BackgroundProcessPoc)
2019-01-23 17:41:49.071 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Delete (BackgroundProcessPoc) with arguments (["Job1_1"]) - Validation state: "Valid"
2019-01-23 17:41:49.161 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Delete (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 89.5359ms.
2019-01-23 17:41:49.161 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Delete (BackgroundProcessPoc) in 109.5194ms
2019-01-23 17:41:49.161 +11:00 [INF] Request finished in 109.9764ms 200 
2019-01-23 17:41:54.018 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs  
2019-01-23 17:41:54.018 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:41:54.042 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) - Validation state: "Valid"
2019-01-23 17:41:54.061 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.9542ms.
2019-01-23 17:41:54.061 +11:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Hangfire.Storage.RecurringJobDto, Hangfire.Core, Version=1.6.21.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-01-23 17:41:54.061 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 42.8997ms
2019-01-23 17:41:54.061 +11:00 [INF] Request finished in 43.2301ms 200 application/json; charset=utf-8
2019-01-23 17:42:19.517 +11:00 [INF] Request starting HTTP/1.1 POST http://localhost:44308/api/BackgroundJobs application/json-patch+json 39
2019-01-23 17:42:19.518 +11:00 [INF] Route matched with {action = "Post", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Post (BackgroundProcessPoc)
2019-01-23 17:42:19.574 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Post (BackgroundProcessPoc) with arguments (["BackgroundProcessPoc.TestRequest"]) - Validation state: "Valid"
2019-01-23 17:42:37.957 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Post (BackgroundProcessPoc) in 18438.9342ms
2019-01-23 17:42:37.971 +11:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The queue name must consist of lowercase letters, digits and underscore characters only. Given: 'Test1'.
Parameter name: value
   at Hangfire.States.EnqueuedState.ValidateQueueName(String parameterName, String value)
   at Hangfire.RecurringJobManagerExtensions.AddOrUpdate(IRecurringJobManager manager, String recurringJobId, Job job, String cronExpression, TimeZoneInfo timeZone, String queue)
   at Hangfire.RecurringJob.AddOrUpdate(String recurringJobId, Expression`1 methodCall, String cronExpression, TimeZoneInfo timeZone, String queue)
   at BackgroundProcessPoc.Controllers.BackgroundJobsController.Post(TestRequest request) in C:\Scratch\Microservices\CommonLibraries\BackgroundProcessPoc\BackgroundProcessPoc\Controllers\BackgroundJobsController.cs:line 54
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.<>c__DisplayClass33_0.<WrapVoidMethod>b__0(Object target, Object[] parameters)
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.VoidResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-01-23 17:42:37.980 +11:00 [INF] Request finished in 18463.3445ms 500 text/html; charset=utf-8
2019-01-23 17:43:13.908 +11:00 [INF] Starting web host
2019-01-23 17:43:16.402 +11:00 [INF] User profile is available. Using 'C:\Users\LBB\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-01-23 17:43:16.663 +11:00 [INF] Start installing Hangfire SQL objects...
2019-01-23 17:43:16.775 +11:00 [INF] Hangfire SQL objects installed.
2019-01-23 17:43:16.790 +11:00 [INF] Starting Hangfire Server
2019-01-23 17:43:16.792 +11:00 [INF] Using job storage: 'SQL Server: .@BackgroundTasks'
2019-01-23 17:43:16.793 +11:00 [INF] Using the following options for SQL Server job storage:
2019-01-23 17:43:16.793 +11:00 [INF]     Queue poll interval: 00:00:15.
2019-01-23 17:43:16.793 +11:00 [INF] Using the following options for Hangfire Server:
2019-01-23 17:43:16.793 +11:00 [INF]     Worker count: 4
2019-01-23 17:43:16.793 +11:00 [INF]     Listening queues: 'test'
2019-01-23 17:43:16.793 +11:00 [INF]     Shutdown timeout: 00:00:15
2019-01-23 17:43:16.793 +11:00 [INF]     Schedule polling interval: 00:00:15
2019-01-23 17:43:16.818 +11:00 [DBG] Background process 'BackgroundProcessingServer' started.
2019-01-23 17:43:17.027 +11:00 [DBG] Background process 'ServerHeartbeat' started.
2019-01-23 17:43:17.027 +11:00 [DBG] Background process 'ServerWatchdog' started.
2019-01-23 17:43:17.059 +11:00 [DBG] Background process 'Hangfire.SqlServer.CountersAggregator' started.
2019-01-23 17:43:17.059 +11:00 [DBG] Background process 'Hangfire.SqlServer.ExpirationManager' started.
2019-01-23 17:43:17.060 +11:00 [DBG] Aggregating records in 'Counter' table...
2019-01-23 17:43:17.063 +11:00 [DBG] Removing outdated records from the 'AggregatedCounter' table...
2019-01-23 17:43:17.096 +11:00 [DBG] Background process 'Worker #f023fd15' started.
2019-01-23 17:43:17.149 +11:00 [DBG] Background process 'Worker #f8f68097' started.
2019-01-23 17:43:17.157 +11:00 [DBG] Background process 'Worker #c5c888b3' started.
2019-01-23 17:43:17.176 +11:00 [DBG] Background process 'Worker #c4c4a7d5' started.
2019-01-23 17:43:17.204 +11:00 [DBG] Background process 'DelayedJobScheduler' started.
2019-01-23 17:43:17.217 +11:00 [DBG] Background process 'RecurringJobScheduler' started.
2019-01-23 17:43:17.298 +11:00 [DBG] Removing outdated records from the 'Job' table...
2019-01-23 17:43:17.397 +11:00 [DBG] Removing outdated records from the 'List' table...
2019-01-23 17:43:17.437 +11:00 [DBG] Removing outdated records from the 'Set' table...
2019-01-23 17:43:17.474 +11:00 [DBG] Removing outdated records from the 'Hash' table...
2019-01-23 17:43:17.763 +11:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:3727/  0
2019-01-23 17:43:17.763 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/swagger/index.html  
2019-01-23 17:43:17.810 +11:00 [INF] Request finished in 49.341ms 200 
2019-01-23 17:43:17.881 +11:00 [INF] Request finished in 120.4343ms 200 text/html
2019-01-23 17:43:18.036 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/swagger/v1/swagger.json  
2019-01-23 17:43:18.331 +11:00 [INF] Request finished in 294.9711ms 200 application/json;charset=utf-8
2019-01-23 17:43:24.246 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs  
2019-01-23 17:43:24.305 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:43:24.439 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) - Validation state: "Valid"
2019-01-23 17:43:24.474 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.521700000000003ms.
2019-01-23 17:43:24.481 +11:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Hangfire.Storage.RecurringJobDto, Hangfire.Core, Version=1.6.21.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-01-23 17:43:24.487 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 178.8732ms
2019-01-23 17:43:24.487 +11:00 [INF] Request finished in 241.0027ms 200 application/json; charset=utf-8
2019-01-23 17:43:40.554 +11:00 [INF] Request starting HTTP/1.1 POST http://localhost:44308/api/BackgroundJobs application/json-patch+json 39
2019-01-23 17:43:40.569 +11:00 [INF] Route matched with {action = "Post", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Post (BackgroundProcessPoc)
2019-01-23 17:43:40.626 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Post (BackgroundProcessPoc) with arguments (["BackgroundProcessPoc.TestRequest"]) - Validation state: "Valid"
2019-01-23 17:43:41.506 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Post (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 879.4002ms.
2019-01-23 17:43:41.507 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Post (BackgroundProcessPoc) in 938.03270000000009ms
2019-01-23 17:43:41.507 +11:00 [INF] Request finished in 952.8846ms 200 
2019-01-23 17:43:45.970 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs  
2019-01-23 17:43:45.971 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:43:45.997 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) - Validation state: "Valid"
2019-01-23 17:43:46.063 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 66.0625ms.
2019-01-23 17:43:46.064 +11:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Hangfire.Storage.RecurringJobDto, Hangfire.Core, Version=1.6.21.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-01-23 17:43:46.065 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 93.8191ms
2019-01-23 17:43:46.065 +11:00 [INF] Request finished in 94.6125ms 200 application/json; charset=utf-8
2019-01-23 17:44:00.760 +11:00 [INF] Adding DateTime:23/01/2019 5:44:00 PM to the database.
2019-01-23 17:44:00.978 +11:00 [INF] Entity Framework Core 2.1.1-rtm-30846 initialized 'BackgroundTasksContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-01-23 17:44:01.108 +11:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [TestData] ([value])
VALUES (@p0);
SELECT [Id]
FROM [TestData]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-01-23 17:44:01.130 +11:00 [INF] Saved changes [DateTime:23/01/2019 5:44:00 PM] to the database.
2019-01-23 17:45:01.174 +11:00 [INF] Adding DateTime:23/01/2019 5:45:01 PM to the database.
2019-01-23 17:45:01.175 +11:00 [INF] Entity Framework Core 2.1.1-rtm-30846 initialized 'BackgroundTasksContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-01-23 17:45:01.258 +11:00 [INF] Executed DbCommand (75ms) [Parameters=[@p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [TestData] ([value])
VALUES (@p0);
SELECT [Id]
FROM [TestData]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-01-23 17:45:01.266 +11:00 [INF] Saved changes [DateTime:23/01/2019 5:45:01 PM] to the database.
2019-01-23 17:48:33.258 +11:00 [INF] Starting web host
2019-01-23 17:48:35.580 +11:00 [INF] User profile is available. Using 'C:\Users\LBB\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-01-23 17:48:35.836 +11:00 [INF] Start installing Hangfire SQL objects...
2019-01-23 17:48:35.979 +11:00 [INF] Hangfire SQL objects installed.
2019-01-23 17:48:36.007 +11:00 [INF] Starting Hangfire Server
2019-01-23 17:48:36.012 +11:00 [INF] Using job storage: 'SQL Server: .@BackgroundTasks'
2019-01-23 17:48:36.012 +11:00 [INF] Using the following options for SQL Server job storage:
2019-01-23 17:48:36.012 +11:00 [INF]     Queue poll interval: 00:00:15.
2019-01-23 17:48:36.012 +11:00 [INF] Using the following options for Hangfire Server:
2019-01-23 17:48:36.012 +11:00 [INF]     Worker count: 4
2019-01-23 17:48:36.013 +11:00 [INF]     Listening queues: 'test'
2019-01-23 17:48:36.013 +11:00 [INF]     Shutdown timeout: 00:00:15
2019-01-23 17:48:36.013 +11:00 [INF]     Schedule polling interval: 00:00:15
2019-01-23 17:48:36.047 +11:00 [DBG] Background process 'BackgroundProcessingServer' started.
2019-01-23 17:48:36.223 +11:00 [DBG] Background process 'ServerHeartbeat' started.
2019-01-23 17:48:36.223 +11:00 [DBG] Background process 'ServerWatchdog' started.
2019-01-23 17:48:36.236 +11:00 [DBG] Background process 'Hangfire.SqlServer.ExpirationManager' started.
2019-01-23 17:48:36.242 +11:00 [DBG] Removing outdated records from the 'AggregatedCounter' table...
2019-01-23 17:48:36.251 +11:00 [DBG] Background process 'Hangfire.SqlServer.CountersAggregator' started.
2019-01-23 17:48:36.257 +11:00 [DBG] Aggregating records in 'Counter' table...
2019-01-23 17:48:36.271 +11:00 [DBG] Background process 'Worker #bfe211f6' started.
2019-01-23 17:48:36.295 +11:00 [DBG] Background process 'Worker #1a09aa4f' started.
2019-01-23 17:48:36.295 +11:00 [INF] 1 servers were removed due to timeout
2019-01-23 17:48:36.358 +11:00 [DBG] Background process 'Worker #698599e0' started.
2019-01-23 17:48:36.393 +11:00 [DBG] Background process 'Worker #930b7b74' started.
2019-01-23 17:48:36.425 +11:00 [DBG] Background process 'RecurringJobScheduler' started.
2019-01-23 17:48:36.442 +11:00 [DBG] Background process 'DelayedJobScheduler' started.
2019-01-23 17:48:36.504 +11:00 [DBG] Removing outdated records from the 'Job' table...
2019-01-23 17:48:36.579 +11:00 [DBG] Removing outdated records from the 'List' table...
2019-01-23 17:48:36.632 +11:00 [DBG] Removing outdated records from the 'Set' table...
2019-01-23 17:48:36.662 +11:00 [DBG] Removing outdated records from the 'Hash' table...
2019-01-23 17:48:36.765 +11:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:3727/  0
2019-01-23 17:48:36.765 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/swagger/index.html  
2019-01-23 17:48:36.800 +11:00 [INF] Request finished in 36.6492ms 200 
2019-01-23 17:48:36.864 +11:00 [INF] Request finished in 101.3027ms 200 text/html
2019-01-23 17:48:37.038 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/swagger/v1/swagger.json  
2019-01-23 17:48:37.333 +11:00 [INF] Request finished in 294.2031ms 200 application/json;charset=utf-8
2019-01-23 17:48:42.491 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs  
2019-01-23 17:48:42.577 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:48:42.717 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) - Validation state: "Valid"
2019-01-23 17:48:42.850 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 126.122ms.
2019-01-23 17:48:42.858 +11:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Hangfire.Storage.RecurringJobDto, Hangfire.Core, Version=1.6.21.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-01-23 17:48:42.865 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 285.9152ms
2019-01-23 17:48:42.866 +11:00 [INF] Request finished in 374.4359ms 200 application/json; charset=utf-8
2019-01-23 17:48:55.588 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs/Job1  
2019-01-23 17:48:55.606 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:48:55.650 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) with arguments (["Job1"]) - Validation state: "Valid"
2019-01-23 17:48:55.755 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 104.6025ms.
2019-01-23 17:48:55.756 +11:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2019-01-23 17:48:55.756 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 149.223ms
2019-01-23 17:48:55.756 +11:00 [INF] Request finished in 167.5398ms 200 text/plain; charset=utf-8
2019-01-23 17:49:01.135 +11:00 [INF] Adding DateTime:23/01/2019 5:49:01 PM to the database.
2019-01-23 17:49:01.369 +11:00 [INF] Entity Framework Core 2.1.1-rtm-30846 initialized 'BackgroundTasksContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-01-23 17:49:01.542 +11:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [TestData] ([value])
VALUES (@p0);
SELECT [Id]
FROM [TestData]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-01-23 17:49:01.576 +11:00 [INF] Saved changes [DateTime:23/01/2019 5:49:01 PM] to the database.
2019-01-23 17:49:10.795 +11:00 [INF] Request starting HTTP/1.1 GET http://localhost:44308/api/BackgroundJobs/Job1  
2019-01-23 17:49:10.797 +11:00 [INF] Route matched with {action = "Get", controller = "BackgroundJobs"}. Executing action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc)
2019-01-23 17:49:10.821 +11:00 [INF] Executing action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) with arguments (["Job1"]) - Validation state: "Valid"
2019-01-23 17:49:10.911 +11:00 [INF] Executed action method BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.3828ms.
2019-01-23 17:49:10.911 +11:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2019-01-23 17:49:10.911 +11:00 [INF] Executed action BackgroundProcessPoc.Controllers.BackgroundJobsController.Get (BackgroundProcessPoc) in 114.3083ms
2019-01-23 17:49:10.912 +11:00 [INF] Request finished in 116.2833ms 200 application/json; charset=utf-8
